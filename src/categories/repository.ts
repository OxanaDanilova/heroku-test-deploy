interface Category {
    id?: number,
    name: string,
    image?: string
}

interface DictionaryItem {
    wordEng:string,
    wordRus:string,
    image:string,
    audio:string,
    category:string
  }

export const dictionary:DictionaryItem[] = [
    {
      wordEng: 'cry',
      wordRus: 'плакать',
      image: '',
      audio: '',
      category: 'Action (set A)',
    },
    {
      wordEng: 'dance',
      wordRus: 'танцевать',
      image: '',
      audio: '',
      category: 'Action (set A)',
    },
    {
      wordEng: 'dive',
      wordRus: 'нырять',
      image: '',
      audio: '',
      category: 'Action (set A)',
    },
    {
      wordEng: 'draw',
      wordRus: 'рисовать',
      image: '',
      audio: '',
      category: 'Action (set A)',
    },
    {
      wordEng: 'fish',
      wordRus: 'ловить рыбу',
      image: '',
      audio: '',
      category: 'Action (set A)',
    },
    {
      wordEng: 'fly',
      wordRus: 'летать',
      image: '',
      audio: '',
      category: 'Action (set A)',
    },
    {
      wordEng: 'hug',
      wordRus: 'обнимать',
      image: '',
      audio: '',
      category: 'Action (set A)',
    },
    {
      wordEng: 'jump',
      wordRus: 'прыгать',
      image: '',
      audio: '',
      category: 'Action (set A)',
    },
    {
      wordEng: 'open',
      wordRus: 'открывать',
      image: '',
      audio: '',
      category: 'Action (set B)',
    },
    {
      wordEng: 'play',
      wordRus: 'играть',
      image: '',
      audio: '',
      category: 'Action (set B)',
    },
    {
      wordEng: 'point',
      wordRus: 'указывать',
      image: '',
      audio: '',
      category: 'Action (set B)',
    },
    {
      wordEng: 'ride',
      wordRus: 'ездить',
      image: '',
      audio: '',
      category: 'Action (set B)',
    },
    {
      wordEng: 'run',
      wordRus: 'бегать',
      image: '',
      audio: '',
      category: 'Action (set B)',
    },
    {
      wordEng: 'sing',
      wordRus: 'петь',
      image: '',
      audio: '',
      category: 'Action (set B)',
    },
    {
      wordEng: 'skip',
      wordRus: 'пропускать, прыгать',
      image: '',
      audio: '',
      category: 'Action (set B)',
    },
    {
      wordEng: 'swim',
      wordRus: 'плавать',
      image: '',
      audio: '',
      category: 'Action (set B)',
    },
    {
      wordEng: 'argue',
      wordRus: 'спорить',
      image: '',
      audio: '',
      category: 'Action (set C)',
    },
    {
      wordEng: 'build',
      wordRus: 'строить',
      image: '',
      audio: '',
      category: 'Action (set C)',
    },
    {
      wordEng: 'carry',
      wordRus: 'нести',
      image: '',
      audio: '',
      category: 'Action (set C)',
    },
    {
      wordEng: 'catch',
      wordRus: 'ловить',
      image: '',
      audio: '',
      category: 'Action (set C)',
    },
    {
      wordEng: 'drive',
      wordRus: 'водить машину',
      image: '',
      audio: '',
      category: 'Action (set C)',
    },
    {
      wordEng: 'drop',
      wordRus: 'падать',
      image: '',
      audio: '',
      category: 'Action (set C)',
    },
    {
      wordEng: 'pull',
      wordRus: 'тянуть',
      image: '',
      audio: '',
      category: 'Action (set C)',
    },
    {
      wordEng: 'push',
      wordRus: 'толкать',
      image: '',
      audio: '',
      category: 'Action (set C)',
    },
    {
      wordEng: 'big',
      wordRus: 'большой',
      image: '',
      audio: '',
      category: 'Adjective',
    },
    {
      wordEng: 'small',
      wordRus: 'маленький',
      image: '',
      audio: '',
      category: 'Adjective',
    },
    {
      wordEng: 'fast',
      wordRus: 'быстрый',
      image: '',
      audio: '',
      category: 'Adjective',
    },
    {
      wordEng: 'slow',
      wordRus: 'медленный',
      image: '',
      audio: '',
      category: 'Adjective',
    },
    {
      wordEng: 'friendly',
      wordRus: 'дружелюбный',
      image: '',
      audio: '',
      category: 'Adjective',
    },
    {
      wordEng: 'unfriendly',
      wordRus: 'недружелюбный',
      image: '',
      audio: '',
      category: 'Adjective',
    },
    {
      wordEng: 'young',
      wordRus: 'молодой',
      image: '',
      audio: '',
      category: 'Adjective',
    },
    {
      wordEng: 'old',
      wordRus: 'старый',
      image: '',
      audio: '',
      category: 'Adjective',
    },
    {
      wordEng: 'cat',
      wordRus: 'кот',
      image: '',
      audio: '',
      category: 'Animal (set A)',
    },
    {
      wordEng: 'chick',
      wordRus: 'цыплёнок',
      image: '',
      audio: '',
      category: 'Animal (set A)',
    },
    {
      wordEng: 'chicken',
      wordRus: 'курица',
      image: '',
      audio: '',
      category: 'Animal (set A)',
    },
    {
      wordEng: 'dog',
      wordRus: 'собака',
      image: '',
      audio: '',
      category: 'Animal (set A)',
    },
    {
      wordEng: 'horse',
      wordRus: 'лошадь',
      image: '',
      audio: '',
      category: 'Animal (set A)',
    },
    {
      wordEng: 'pig',
      wordRus: 'свинья',
      image: '',
      audio: '',
      category: 'Animal (set A)',
    },
    {
      wordEng: 'rabbit',
      wordRus: 'кролик',
      image: '',
      audio: '',
      category: 'Animal (set A)',
    },
    {
      wordEng: 'sheep',
      wordRus: 'овца',
      image: '',
      audio: '',
      category: 'Animal (set A)',
    },
    {
      wordEng: 'bird',
      wordRus: 'птица',
      image: '',
      audio: '',
      category: 'Animal (set B)',
    },
    {
      wordEng: 'fish',
      wordRus: 'рыба',
      image: '',
      audio: '',
      category: 'Animal (set B)',
    },
    {
      wordEng: 'frog',
      wordRus: 'жаба',
      image: '',
      audio: '',
      category: 'Animal (set B)',
    },
    {
      wordEng: 'giraffe',
      wordRus: 'жираф',
      image: '',
      audio: '',
      category: 'Animal (set B)',
    },
    {
      wordEng: 'lion',
      wordRus: 'лев',
      image: '',
      audio: '',
      category: 'Animal (set B)',
    },
    {
      wordEng: 'mouse',
      wordRus: 'мышь',
      image: '',
      audio: '',
      category: 'Animal (set B)',
    },
    {
      wordEng: 'turtle',
      wordRus: 'черепаха',
      image: '',
      audio: '',
      category: 'Animal (set B)',
    },
    {
      wordEng: 'dolphin',
      wordRus: 'дельфин',
      image: '',
      audio: '',
      category: 'Animal (set B)',
    },
    {
      wordEng: 'skirt',
      wordRus: 'юбка',
      image: '',
      audio: '',
      category: 'Clothes',
    },
    {
      wordEng: 'pants',
      wordRus: 'брюки',
      image: '',
      audio: '',
      category: 'Clothes',
    },
    {
      wordEng: 'blouse',
      wordRus: 'блузка',
      image: '',
      audio: '',
      category: 'Clothes',
    },
    {
      wordEng: 'dress',
      wordRus: 'платье',
      image: '',
      audio: '',
      category: 'Clothes',
    },
    {
      wordEng: 'boot',
      wordRus: 'ботинок',
      image: '',
      audio: '',
      category: 'Clothes',
    },
    {
      wordEng: 'shirt',
      wordRus: 'рубашка',
      image: '',
      audio: '',
      category: 'Clothes',
    },
    {
      wordEng: 'coat',
      wordRus: 'пальто',
      image: '',
      audio: '',
      category: 'Clothes',
    },
    {
      wordEng: 'shoe',
      wordRus: 'туфли',
      image: '',
      audio: '',
      category: 'Clothes',
    },
    {
      wordEng: 'sad',
      wordRus: 'печальный',
      image: '',
      audio: '',
      category: 'Emotion',
    },
    {
      wordEng: 'angry',
      wordRus: 'сердитый',
      image: '',
      audio: '',
      category: 'Emotion',
    },
    {
      wordEng: 'happy',
      wordRus: 'счастливый',
      image: '',
      audio: '',
      category: 'Emotion',
    },
    {
      wordEng: 'tired',
      wordRus: 'уставший',
      image: '',
      audio: '',
      category: 'Emotion',
    },
    {
      wordEng: 'surprised',
      wordRus: 'удивлённый',
      image: '',
      audio: '',
      category: 'Emotion',
    },
    {
      wordEng: 'scared',
      wordRus: 'уставший',
      image: '',
      audio: '',
      category: 'Emotion',
    },
    {
      wordEng: 'smile',
      wordRus: 'улыбка',
      image: '',
      audio: '',
      category: 'Emotion',
    },
    {
      wordEng: 'laugh',
      wordRus: 'смех',
      image: '',
      audio: '',
      category: 'Emotion',
    },
  ];
  

export const categories: Category[] = [
    {   
        id:1,
        name:'Action (set A)',
        image:'dance.jpg'
    },
    {
        id:2,
        name: 'Action (set B)',
        image:'swim.jpg'
    },
    {
        id:3,
        name: 'Action (set C)',
        image: 'drive.jpg'
    },
    {
        id:4,
        name: 'Adjective',
        image:'small.jpg'
    },
    {
        id:5,
        name: 'Animal (set A)',
        image: 'cat.jpg'
    },
    {
        id:6,
        name: 'Animal (set B)',
        image:'bird.jpg'
    },
    {
        id:7,
        name: 'Clothes',
        image: 'blouse.jpg'
    },
    {
        id:8,
        name: 'Emotion',
        image: 'happy.jpg'
    }
    

];

/*export const categoriesArr = [
    'Action (set A)',
    'Action (set B)',
    'Action (set C)',
    'Adjective',
    'Animal (set A)',
    'Animal (set B)',
    'Clothes',
    'Emotion',
  ];*/

  let counterCategId = categories.length;

  export function getCategories():Promise<Category[]>{
      return Promise.resolve(categories);
  }

  export function getCategoriesByName(catName:string):Promise<Category|undefined>{
      const category = categories.find((cat)=>cat.name === catName);
      return Promise.resolve(category);
  }

  export function getCategoriesById(id:number):Promise<Category|undefined>{
    const category = categories.find((cat)=>cat.id === id);
    return Promise.resolve(category);
}

export function deleteCategory(id:number):Promise<void>{
    const indexCat = categories.findIndex((cat)=>cat.id === id);
    if (indexCat<0) return Promise.reject(new Error('Category not found'));
    categories.splice(indexCat,1);
    return Promise.resolve();    
}

export function createCategory(data:Category):Promise<Category>{
    const isDublicate = categories.findIndex((cat)=>cat.name===data.name)>=0;
    if (isDublicate==true){
        return Promise.reject(new Error(`Category with name ${data.name} already exists`));
    }
    counterCategId += 1;
    const newCategory:Category = {
        ...data,
        id: counterCategId
    };
    categories.push(newCategory);
    return Promise.resolve(newCategory);
}

export const countWords = (category:string):number => {
    let counter = 0;
    dictionary.forEach((el) => {
      if (el.category === category) {
        counter += 1;
      }
    });
    return counter;
  };

  export const selectWordsFromCategory = (category:string):DictionaryItem[] => {
    const wordsArr:DictionaryItem[] = [];
    dictionary.forEach((el) => {
      if (el.category === category) {
        wordsArr.push(el);
      }
    });
    return wordsArr;
  };



export function updateCategory(data:Category):Promise<Category>{
    const itemIndex = categories.findIndex((cat)=>cat.id===data.id);
    dictionary.forEach((el) => {
        if (el.category === categories[itemIndex].name) {
          el.category = data.name;
        }
      });

    categories[itemIndex].name = data.name;
    return Promise.resolve(categories[itemIndex]);
}

